/* ============================================
   COMPANYWISE — operations.css
   Operations panel: Composed illustration layout
   Mobile-first · CSS design tokens
   ============================================ */


/* ============================================
   Grid Container Override
   ============================================ */

.wwc-signals-grid--operations {
  gap: 0;
  padding: var(--space-3);
}

@media (min-width: 768px) {
  .wwc-signals-grid--operations {
    padding: var(--space-4);
  }
}


/* ============================================
   Showcase Container
   Mobile: vertical card stack
   Tablet+: composed illustration with floats
   ============================================ */

.ops-showcase {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  position: relative;
}

.ops-showcase__depth,
.ops-showcase__blur {
  display: none;
}

@media (min-width: 768px) {
  .ops-showcase {
    position: relative;
    display: block;
    padding: var(--space-8) var(--space-6);
    padding-bottom: var(--space-14);
  }
}

@media (min-width: 1024px) {
  .ops-showcase {
    padding: var(--space-6) var(--space-4);
    padding-bottom: var(--space-12);
  }
}


/* ============================================
   Shared Card Base
   ============================================ */

.ops-card {
  background: var(--surface);
  border-radius: var(--rounded-xl);
  border: var(--border-1) solid var(--border);
  overflow: hidden;
  transition:
    box-shadow var(--duration-300) var(--ease-out),
    transform var(--duration-300) var(--ease-out),
    border-color var(--duration-300) var(--ease-out);
}

.ops-card:hover {
  border-color: color-mix(in srgb, var(--text) 10%, transparent);
}


/* ============================================
   Card Header
   ============================================ */

.ops-card__header {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2-5);
  padding: var(--space-3) var(--space-3-5);
  border-bottom: var(--border-1) solid var(--border);
}

/* ---- Icon ---- */

.ops-card__icon {
  width: var(--space-8);
  height: var(--space-8);
  border-radius: var(--rounded-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.ops-card__icon i {
  font-size: var(--text-sm);
}

.ops-card__icon--amber {
  background: var(--warning-bg);
  color: var(--warning);
}

.ops-card__icon--blue {
  background: var(--brand-bg);
  color: var(--brand);
}

.ops-card__icon--emerald {
  background: var(--success-bg);
  color: var(--success);
}

.ops-card__icon--muted {
  background: var(--muted);
  color: var(--text-faint);
}

/* ---- Titles ---- */

.ops-card__titles {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: var(--space-0-5);
  padding-top: var(--space-0-5);
}

.ops-card__name {
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  color: var(--text);
  margin: 0;
  line-height: var(--leading-snug);
}

.ops-card__sub {
  font-size: var(--text-xs);
  color: var(--text-muted);
  margin: 0;
  line-height: var(--leading-relaxed);
}

/* ---- Badge ---- */

.ops-card__badge {
  font-size: 0.625rem;
  font-weight: var(--font-semibold);
  padding: var(--space-0-5) var(--space-2);
  border-radius: var(--rounded-full);
  flex-shrink: 0;
  margin-top: var(--space-0-5);
}

.ops-card__badge--high {
  background: var(--danger-bg);
  color: var(--danger);
}

.ops-card__badge--medium {
  background: var(--warning-bg);
  color: var(--warning);
}

.ops-card__badge--low {
  background: var(--success-bg);
  color: var(--success);
}



/* ============================================
   Anchor Card — Filing Consistency
   ============================================ */

.ops-anchor__body {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  padding: var(--space-4);
  background: linear-gradient(
    to bottom,
    color-mix(in srgb, var(--page) 80%, transparent),
    var(--surface)
  );
}

/* ---- Breakdown Row ---- */

.ops-anchor__breakdown {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
}

.ops-anchor__stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-0-5);
}

.ops-anchor__stat-value {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
  color: var(--text);
  line-height: var(--leading-none);
}

.ops-anchor__stat-label {
  font-size: var(--text-xs);
  color: var(--text-muted);
}

.ops-anchor__stat--highlight .ops-anchor__stat-value {
  color: var(--success);
}

.ops-anchor__stat--highlight .ops-anchor__stat-label {
  color: var(--success);
}

.ops-anchor__stat-divider {
  width: var(--border-1);
  height: var(--space-8);
  background: var(--border);
  flex-shrink: 0;
}

@media (min-width: 768px) {
  .ops-anchor__stat-value {
    font-size: var(--text-xl);
  }
}

/* ---- Filing History ---- */

.ops-anchor__history {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.ops-anchor__entry {
  display: flex;
  align-items: center;
  gap: var(--space-2-5);
  padding: var(--space-2) var(--space-2-5);
  background: var(--page);
  border-radius: var(--rounded-lg);
}

.ops-anchor__entry-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: var(--space-10);
  padding: var(--space-0-5) var(--space-2);
  border-radius: var(--rounded-md);
  font-size: var(--text-xs);
  font-weight: var(--font-bold);
  font-family: var(--font-mono);
  letter-spacing: var(--tracking-wide);
}

.ops-anchor__entry-badge--cs01 {
  background: var(--brand-bg);
  color: var(--brand);
}

.ops-anchor__entry-badge--aa {
  background: var(--success-bg);
  color: var(--success);
}

.ops-anchor__entry-badge--ad01 {
  background: var(--warning-bg);
  color: var(--warning);
}

.ops-anchor__entry-label {
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  color: var(--text);
  flex: 1;
  min-width: 0;
}

.ops-anchor__entry-date {
  font-size: var(--text-xs);
  color: var(--text-faint);
  flex-shrink: 0;
}

.ops-anchor__entry-status {
  flex-shrink: 0;
}

.ops-anchor__entry-status--ok {
  color: var(--success);
  font-size: var(--text-base);
}

.ops-anchor__entry-status--late {
  color: var(--warning);
  font-size: var(--text-base);
}

.ops-anchor__entry-status--na {
  color: var(--text-faint);
  font-size: var(--text-base);
}

/* ---- Anchor Footer ---- */

.ops-anchor__footer {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding-top: var(--space-2);
  border-top: var(--border-1) solid var(--border);
  font-size: var(--text-xs);
  color: var(--text-faint);
}

.ops-anchor__footer span {
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.ops-anchor__footer i {
  font-size: var(--text-sm);
}


/* ============================================
   Float Card — Virtual Office Check
   ============================================ */

.ops-office__body {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  padding: var(--space-3) var(--space-3-5);
}

.ops-office__address {
  display: flex;
  align-items: flex-start;
  gap: var(--space-1-5);
  font-size: var(--text-xs);
  color: var(--text-secondary);
  line-height: var(--leading-relaxed);
}

.ops-office__address i {
  font-size: var(--text-sm);
  color: var(--text-faint);
  flex-shrink: 0;
  margin-top: 1px;
}

.ops-office__stamp {
  display: flex;
  align-items: center;
  gap: var(--space-1-5);
  padding: var(--space-2) var(--space-2-5);
  border-radius: var(--rounded-lg);
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
}

.ops-office__stamp i {
  font-size: var(--text-sm);
  flex-shrink: 0;
}

.ops-office__stamp--flagged {
  background: var(--danger-bg);
  color: var(--danger);
}

.ops-office__stamp--clear {
  background: var(--success-bg);
  color: var(--success);
}

.ops-office__shared {
  display: flex;
  align-items: center;
  gap: var(--space-1-5);
  font-size: var(--text-xs);
  color: var(--text-muted);
}

.ops-office__shared i {
  font-size: var(--text-sm);
  color: var(--text-faint);
  flex-shrink: 0;
}

.ops-office__shared--crowded {
  color: var(--warning);
}

.ops-office__shared--crowded i {
  color: var(--warning);
}


/* ============================================
   Float Card — SIC Code Analysis
   ============================================ */

.ops-sic__body {
  display: flex;
  flex-direction: column;
  gap: var(--space-2-5);
  padding: var(--space-3) var(--space-3-5);
}

.ops-sic__sector {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.ops-sic__sector-name {
  font-size: var(--text-sm);
  font-weight: var(--font-semibold);
  color: var(--text);
}

.ops-sic__sector-risk {
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
  padding: var(--space-0-5) var(--space-2);
  border-radius: var(--rounded-full);
}

.ops-sic__sector-risk--ok {
  background: var(--success-bg);
  color: var(--success);
}

.ops-sic__sector-risk--warning {
  background: var(--warning-bg);
  color: var(--warning);
}

.ops-sic__sector-risk--danger {
  background: var(--danger-bg);
  color: var(--danger);
}

.ops-sic__codes {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.ops-sic__code {
  display: flex;
  align-items: baseline;
  gap: var(--space-2);
  font-size: var(--text-xs);
  line-height: var(--leading-relaxed);
}

.ops-sic__code-num {
  font-weight: var(--font-bold);
  font-family: var(--font-mono);
  color: var(--brand);
  white-space: nowrap;
}

.ops-sic__code-desc {
  color: var(--text-muted);
}

.ops-sic__meter {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.ops-sic__meter-label {
  font-size: var(--text-xs);
  color: var(--text-muted);
  font-weight: var(--font-medium);
}

.ops-sic__meter-row {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.ops-sic__meter-track {
  flex: 1;
  height: var(--space-1-5);
  background: var(--muted);
  border-radius: var(--rounded-full);
  overflow: hidden;
}

.ops-sic__meter-fill {
  height: 100%;
  border-radius: var(--rounded-full);
  transition: width var(--duration-700) var(--ease-out-expo);
}

.ops-sic__meter-fill--ok      { background: var(--success); }
.ops-sic__meter-fill--warning  { background: var(--warning); }
.ops-sic__meter-fill--danger   { background: var(--danger); }

.ops-sic__meter-value {
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
  color: var(--text);
  white-space: nowrap;
}


/* ============================================
   No-Data Card
   ============================================ */

.ops-card--no-data {
  opacity: 0.7;
}

.ops-card__empty {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-5) var(--space-4);
  font-size: var(--text-xs);
  color: var(--text-faint);
}

.ops-card__empty i {
  font-size: var(--text-base);
}


/* ============================================
   TABLET+ — Composed Illustration Layout
   Float cards positioned absolutely around
   the centred anchor card
   ============================================ */

@media (min-width: 768px) {

  /* --- Depth card (tinted rotated background) --- */

  .ops-showcase__depth {
    display: block;
    position: absolute;
    top: var(--space-6);
    left: var(--space-4);
    right: var(--space-4);
    bottom: var(--space-8);
    background: linear-gradient(
      135deg,
      var(--success-bg),
      color-mix(in srgb, var(--success) 4%, var(--page))
    );
    border-radius: var(--rounded-2xl);
    border: var(--border-1) solid color-mix(in srgb, var(--success) 8%, transparent);
    transform: rotate(1.5deg);
    z-index: 1;
    pointer-events: none;
  }

  /* --- Blur accent (bottom glow) --- */

  .ops-showcase__blur {
    display: block;
    position: absolute;
    bottom: var(--space-2);
    left: 50%;
    transform: translateX(-50%);
    width: 65%;
    height: var(--space-6);
    background: linear-gradient(
      135deg,
      var(--success-bg),
      color-mix(in srgb, var(--success) 8%, transparent)
    );
    border-radius: var(--rounded-full);
    filter: blur(var(--blur-2xl));
    opacity: var(--opacity-30);
    z-index: 0;
    pointer-events: none;
  }

  /* --- Anchor card — centred, prominent --- */

  .ops-card--anchor {
    position: relative;
    z-index: 10;
    max-width: 68%;
    margin: 0 auto;
    box-shadow: var(--shadow-lg);
    border-color: color-mix(in srgb, var(--text) 8%, transparent);
  }

  .ops-card--anchor:hover {
    box-shadow: var(--shadow-xl);
  }

  /* --- Virtual Office float — top right --- */

  .ops-card--float-office {
    position: absolute;
    top: var(--space-1);
    right: var(--space-1);
    z-index: 20;
    width: 210px;
    transform: rotate(2.5deg);
    box-shadow: var(--shadow-lg);
  }

  .ops-card--float-office:hover {
    transform: rotate(2.5deg) translateY(calc(-1 * var(--space-1)));
    box-shadow: var(--shadow-xl);
  }

  /* --- SIC float — bottom left --- */

  .ops-card--float-sic {
    position: absolute;
    bottom: var(--space-4);
    left: var(--space-1);
    z-index: 20;
    width: 235px;
    transform: rotate(-2deg);
    box-shadow: var(--shadow-lg);
  }

  .ops-card--float-sic:hover {
    transform: rotate(-2deg) translateY(calc(-1 * var(--space-1)));
    box-shadow: var(--shadow-xl);
  }
}


/* ============================================
   DESKTOP — Narrower Content Zone Adjustments
   Hero zone takes 320px on the left
   ============================================ */

@media (min-width: 1024px) {

  .ops-card--anchor {
    max-width: 65%;
  }

  .ops-card--float-office {
    width: 200px;
  }

  .ops-card--float-sic {
    width: 220px;
  }
}

@media (min-width: 1280px) {

  .ops-card--anchor {
    max-width: 60%;
  }

  .ops-card--float-office {
    width: 215px;
    right: var(--space-2);
  }

  .ops-card--float-sic {
    width: 240px;
    left: var(--space-2);
  }
}
