/* ============================================
   COMPANYWISE — financial.css
   Financial panel card styles · Mobile-first
   Colour palette: design tokens
   ============================================ */


/* ============================================
   Deadline Tracker Card
   ============================================ */

/* ---- Gauge ---- */

.deadline-gauge {
  position: relative;
  width: var(--space-28);
  height: var(--space-28);
  margin: 0 auto;
}

.deadline-gauge__svg {
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);
}

.deadline-gauge__track {
  fill: none;
  stroke: var(--muted);
  stroke-width: 6;
}

.deadline-gauge__fill {
  fill: none;
  stroke-width: 6;
  stroke-linecap: round;
  transition: stroke-dashoffset var(--duration-700) var(--ease-out-expo);
}

.deadline-gauge__fill--ok {
  stroke: var(--success);
}

.deadline-gauge__fill--warning {
  stroke: var(--warning);
}

.deadline-gauge__fill--danger {
  stroke: var(--danger);
}

.deadline-gauge__fill--critical {
  stroke: var(--red-500);
}

.deadline-gauge__center {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-0-5);
}

.deadline-gauge__value {
  font-size: var(--text-2xl);
  font-weight: var(--font-bold);
  line-height: var(--leading-none);
  color: var(--text);
}

.deadline-gauge__value.warning {
  color: var(--warning);
}

.deadline-gauge__value.danger {
  color: var(--danger);
}

.deadline-gauge__value.critical {
  color: var(--red-500);
}

.deadline-gauge__label {
  font-size: var(--text-xs);
  color: var(--text-muted);
  font-weight: var(--font-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

/* ---- Meta ---- */

.deadline-meta {
  display: flex;
  flex-direction: column;
  gap: var(--space-1-5);
}

.deadline-meta__status,
.deadline-meta__date {
  display: flex;
  align-items: center;
  gap: var(--space-1-5);
  font-size: var(--text-xs);
  color: var(--text-muted);
}

.deadline-meta__status i,
.deadline-meta__date i {
  font-size: var(--text-sm);
  flex-shrink: 0;
}

.deadline-meta__status--overdue {
  color: var(--danger);
}

.deadline-meta__status--overdue i {
  color: var(--danger);
}

.deadline-meta__status--on-time {
  color: var(--success);
}

.deadline-meta__date i {
  color: var(--text-faint);
}

/* ---- Scale Bar ---- */

.deadline-scale {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.deadline-scale__bar {
  position: relative;
  display: flex;
  height: var(--space-1-5);
  border-radius: var(--rounded-full);
  overflow: hidden;
}

.deadline-scale__zone {
  height: 100%;
}

.deadline-scale__zone--ok {
  background: var(--success);
}

.deadline-scale__zone--warning {
  background: var(--warning);
}

.deadline-scale__zone--danger {
  background: var(--danger);
}

.deadline-scale__zone--critical {
  background: var(--red-500);
}

.deadline-scale__marker {
  position: absolute;
  top: calc(-1 * var(--space-0-5));
  width: var(--space-0-5);
  height: var(--space-2-5);
  background: var(--text);
  border-radius: var(--rounded-full);
  transform: translateX(-50%);
}

.deadline-scale__labels {
  display: flex;
  justify-content: space-between;
  font-size: var(--text-xs);
  color: var(--text-faint);
}

@media (min-width: 768px) {
  .deadline-gauge {
    width: var(--space-32);
    height: var(--space-32);
  }

  .deadline-gauge__value {
    font-size: var(--text-3xl);
  }

  .deadline-meta {
    flex-direction: row;
    gap: var(--space-4);
  }
}


/* ============================================
   Legal Record Card
   ============================================ */

/* ---- File Stack ---- */

.legal-stack {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.legal-file {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-2-5) var(--space-3);
  background: var(--page);
  border-radius: var(--rounded-xl);
  transition: background var(--duration-200) var(--ease-out);
}

.legal-file--has-items {
  background: var(--danger-bg);
}

.legal-file__tab {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--space-8);
  height: var(--space-8);
  border-radius: var(--rounded-lg);
  flex-shrink: 0;
}

.legal-file__tab i {
  font-size: var(--text-sm);
}

.legal-file__tab--danger {
  background: color-mix(in srgb, var(--danger) 12%, transparent);
  color: var(--danger);
}

.legal-file__tab--warning {
  background: var(--warning-bg);
  color: var(--warning);
}

.legal-file__tab--success {
  background: var(--success-bg);
  color: var(--success);
}

.legal-file__content {
  display: flex;
  align-items: baseline;
  gap: var(--space-2);
}

.legal-file__count {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
  color: var(--text);
  line-height: var(--leading-none);
}

.legal-file--has-items .legal-file__count {
  color: var(--danger);
}

.legal-file__label {
  font-size: var(--text-xs);
  color: var(--text-muted);
  font-weight: var(--font-medium);
}

/* ---- Total Row ---- */

.legal-total {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2-5) var(--space-3);
  border-radius: var(--rounded-lg);
  font-size: var(--text-xs);
  font-weight: var(--font-medium);
}

.legal-total i {
  font-size: var(--text-base);
  flex-shrink: 0;
}

.legal-total--alert {
  background: var(--danger-bg);
  color: var(--danger);
}

.legal-total--clear {
  background: var(--success-bg);
  color: var(--success);
}

@media (min-width: 768px) {
  .legal-file__count {
    font-size: var(--text-xl);
  }
}


/* ============================================
   Accounts Snapshot Card
   ============================================ */

/* ---- Dashboard ---- */

.accounts-dashboard {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.accounts-metric {
  display: flex;
  flex-direction: column;
  gap: var(--space-1-5);
  padding: var(--space-3);
  background: var(--page);
  border-radius: var(--rounded-xl);
}

.accounts-metric__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.accounts-metric__label {
  font-size: var(--text-xs);
  color: var(--text-muted);
  font-weight: var(--font-medium);
}

.accounts-metric__trend {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  font-size: var(--text-xs);
  font-weight: var(--font-semibold);
}

.accounts-metric__trend i {
  font-size: var(--text-xs);
}

.accounts-metric__trend--up {
  color: var(--success);
}

.accounts-metric__trend--down {
  color: var(--danger);
}

.accounts-metric__trend--flat {
  color: var(--text-muted);
}

.accounts-metric__value {
  font-size: var(--text-lg);
  font-weight: var(--font-bold);
  color: var(--text);
  line-height: var(--leading-none);
}

.accounts-metric__bar {
  height: var(--space-1);
  background: var(--muted);
  border-radius: var(--rounded-full);
  overflow: hidden;
}

.accounts-metric__fill {
  height: 100%;
  border-radius: var(--rounded-full);
  transition: width var(--duration-700) var(--ease-out-expo);
}

.accounts-metric__fill--up {
  background: var(--success);
}

.accounts-metric__fill--down {
  background: var(--danger);
}

.accounts-metric__fill--flat {
  background: var(--text-faint);
}

/* ---- Footer ---- */

.accounts-footer {
  display: flex;
  flex-direction: column;
  gap: var(--space-1-5);
}

.accounts-badge,
.accounts-period {
  display: flex;
  align-items: center;
  gap: var(--space-1-5);
  font-size: var(--text-xs);
  color: var(--text-muted);
}

.accounts-badge i,
.accounts-period i {
  font-size: var(--text-sm);
  color: var(--text-faint);
  flex-shrink: 0;
}

@media (min-width: 768px) {
  .accounts-dashboard {
    flex-direction: row;
  }

  .accounts-metric {
    flex: 1;
  }

  .accounts-metric__value {
    font-size: var(--text-xl);
  }

  .accounts-footer {
    flex-direction: row;
    gap: var(--space-4);
  }
}
